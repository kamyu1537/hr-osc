import{S as B,i as H,s as W,e as m,a as p,b,n as D,d as g,t as F,c as T,f as $,m as I,l as L,g as v,h as y,j as P,k as w,o as X,p as Z,q as me,I as Re,r as Te,u as ye,v as oe,w as ie,x as Ie,y as Pe,z as re,A as Y,B as E,C as ne,D as te,E as xe,F as Le,G as Ce,H as ae,J as ce,K as ue,L as fe,M as je,N as be,O as z,P as Se,Q as V,R as A,T as Ae}from"./vendor.js";const Ue=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function l(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(n){if(n.ep)return;n.ep=!0;const s=l(n);fetch(n.href,s)}};Ue();function Ne(r){let e;return{c(){e=m("div"),e.innerHTML=`<div class="flex flex-col items-center"><div class="animate-bounce"><div class="bg-white w-5 h-5 animate-spin">\xA0</div></div> 

    <div class="mt-3">Loading...</div></div>`,p(e,"class","w-full h-full flex items-center justify-center")},m(l,t){b(l,e,t)},p:D,i:D,o:D,d(l){l&&g(e)}}}class De extends B{constructor(e){super();H(this,e,null,Ne,W,{})}}function ge(r){let e;return{c(){e=F("hr-osc")},m(l,t){b(l,e,t)},d(l){l&&g(e)}}}function Be(r){let e,l,t,n,s,o;return t=new ye({}),{c(){e=m("a"),l=m("div"),T(t.$$.fragment),p(l,"class","w-4 h-4"),p(e,"class","rounded-full overflow-hidden hover:text-gray-800 hover:bg-white w-6 h-6 flex items-center justify-center transition-colors"),p(e,"data-wails-no-drag",""),p(e,"href","/")},m(i,c){b(i,e,c),$(e,l),I(t,l,null),n=!0,s||(o=oe(ie.call(null,e)),s=!0)},i(i){n||(v(t.$$.fragment,i),n=!0)},o(i){y(t.$$.fragment,i),n=!1},d(i){i&&g(e),P(t),s=!1,o()}}}function He(r){let e,l,t,n,s,o;return t=new Ie({}),{c(){e=m("a"),l=m("div"),T(t.$$.fragment),p(l,"class","w-4 h-4"),p(e,"class","rounded-full overflow-hidden hover:text-gray-800 hover:bg-white w-6 h-6 flex items-center justify-center transition-colors"),p(e,"data-wails-no-drag",""),p(e,"href","/about")},m(i,c){b(i,e,c),$(e,l),I(t,l,null),n=!0,s||(o=oe(ie.call(null,e)),s=!0)},i(i){n||(v(t.$$.fragment,i),n=!0)},o(i){y(t.$$.fragment,i),n=!1},d(i){i&&g(e),P(t),s=!1,o()}}}function We(r){let e,l,t,n,s,o;return t=new ye({}),{c(){e=m("a"),l=m("div"),T(t.$$.fragment),p(l,"class","w-4 h-4"),p(e,"class","rounded-full overflow-hidden hover:text-gray-800 hover:bg-white w-6 h-6 flex items-center justify-center transition-colors"),p(e,"data-wails-no-drag",""),p(e,"href","/")},m(i,c){b(i,e,c),$(e,l),I(t,l,null),n=!0,s||(o=oe(ie.call(null,e)),s=!0)},i(i){n||(v(t.$$.fragment,i),n=!0)},o(i){y(t.$$.fragment,i),n=!1},d(i){i&&g(e),P(t),s=!1,o()}}}function Me(r){let e,l,t,n,s,o;return t=new Pe({}),{c(){e=m("a"),l=m("div"),T(t.$$.fragment),p(l,"class","w-4 h-4"),p(e,"class","rounded-full overflow-hidden hover:text-gray-800 hover:bg-white w-6 h-6 flex items-center justify-center transition-colors"),p(e,"data-wails-no-drag",""),p(e,"href","/settings")},m(i,c){b(i,e,c),$(e,l),I(t,l,null),n=!0,s||(o=oe(ie.call(null,e)),s=!0)},i(i){n||(v(t.$$.fragment,i),n=!0)},o(i){y(t.$$.fragment,i),n=!1},d(i){i&&g(e),P(t),s=!1,o()}}}function he(r){let e,l,t,n,s,o;return t=new Re({}),{c(){e=m("div"),l=m("div"),T(t.$$.fragment),p(l,"class","w-6 h-6"),p(e,"class","rounded-full overflow-hidden hover:text-gray-800 hover:bg-rose-500 w-6 h-6 flex items-center justify-center transition-colors cursor-pointer"),p(e,"data-wails-no-drag","")},m(i,c){b(i,e,c),$(e,l),I(t,l,null),n=!0,s||(o=L(e,"click",r[2]),s=!0)},p:D,i(i){n||(v(t.$$.fragment,i),n=!0)},o(i){y(t.$$.fragment,i),n=!1},d(i){i&&g(e),P(t),s=!1,o()}}}function Fe(r){let e,l,t,n,s,o,i,c,a,u,_,f,d=r[0]!=="darwin"&&ge();const k=[He,Be],O=[];function R(S,M){return S[1]!=="/about"?0:1}o=R(r),i=O[o]=k[o](r);const h=[Me,We],C=[];function N(S,M){return S[1]!=="/settings"?0:1}a=N(r),u=C[a]=h[a](r);let x=r[0]!=="darwin"&&he(r);return{c(){e=m("div"),l=m("div"),t=m("div"),d&&d.c(),n=w(),s=m("div"),i.c(),c=w(),u.c(),_=w(),x&&x.c(),p(t,"class","px-1"),p(s,"class","flex gap-1 items-center h-full"),p(l,"class","w-full h-full px-2 flex items-center justify-between z-0"),p(e,"class","fixed top-0 left-0 right-0 h-9 z-10"),p(e,"data-wails-drag","")},m(S,M){b(S,e,M),$(e,l),$(l,t),d&&d.m(t,null),$(l,n),$(l,s),O[o].m(s,null),$(s,c),C[a].m(s,null),$(s,_),x&&x.m(s,null),f=!0},p(S,[M]){S[0]!=="darwin"?d||(d=ge(),d.c(),d.m(t,null)):d&&(d.d(1),d=null);let J=o;o=R(S),o!==J&&(X(),y(O[J],1,1,()=>{O[J]=null}),Z(),i=O[o],i||(i=O[o]=k[o](S),i.c()),v(i,1),i.m(s,c));let K=a;a=N(S),a!==K&&(X(),y(C[K],1,1,()=>{C[K]=null}),Z(),u=C[a],u||(u=C[a]=h[a](S),u.c()),v(u,1),u.m(s,_)),S[0]!=="darwin"?x?(x.p(S,M),M&1&&v(x,1)):(x=he(S),x.c(),v(x,1),x.m(s,null)):x&&(X(),y(x,1,1,()=>{x=null}),Z())},i(S){f||(v(i),v(u),v(x),f=!0)},o(S){y(i),y(u),y(x),f=!1},d(S){S&&g(e),d&&d.d(),O[o].d(),C[a].d(),x&&x.d()}}}function Ge(r,e,l){let t;me(r,Te,o=>l(1,t=o));let n="";return window.go.main.App.GetOS().then(o=>l(0,n=o)),[n,t,()=>window.runtime.Quit()]}class Je extends B{constructor(e){super();H(this,e,Ge,Fe,W,{})}}const Q=Y({loading:!1,checked:!1,found:!1,version:""}),ee=Y({osc_client_host:"127.0.0.1",osc_client_port:9e3,osc_path_connected:"/avatar/parameters/hr_connected",osc_path_percent:"/avatar/parameters/hr_percent",widget_id:"",max_heart_rate:200,timeout:10}),Oe=Y(!0),pe=Y(""),se=Y({connected:!1,heartRate:0});window.go.main.App.GetConfig().then(r=>{ee.set({osc_client_host:r.osc_client_host,osc_client_port:r.osc_client_port,osc_path_connected:r.osc_path_connected,osc_path_percent:r.osc_path_percent,widget_id:r.widget_id,max_heart_rate:r.max_heart_rate,timeout:r.timeout})});ee.subscribe(()=>{window.go.main.App.GetWebSocketUrl().then(r=>{Oe.set(!1),pe.set(r),r===""&&re("/widgetId").then()})});function qe(r){let e,l,t,n,s={connected:!1,heartRate:0};const o=()=>{!s||!l||(t=setTimeout(()=>{console.info("timeout"),se.set(E(s,a=>{a.connected=!1,a.heartRate=0}))},(l.timeout||10)*1e3))},i=a=>{if(!!a){if(e){try{console.info("close"),e.close()}catch(u){console.error(u)}e=null}e=new WebSocket(a),e.onopen=()=>{console.info("opened")},e.onmessage=u=>{console.info(u.data);try{const _=JSON.parse(u.data);if(_){let d=_.data.heartRate||0;se.set(E(s,k=>{k.connected=!0,k.heartRate=d}))}t&&clearTimeout(t),o()}catch(_){console.error(_)}},e.onerror=u=>{console.error(u),setTimeout(()=>i(a),0)},e.onclose=()=>{console.info("closed"),setTimeout(()=>i(a),0)}}},c=a=>{n!==a&&(n=a,i(a))};return ee.subscribe(a=>{l=a}),se.subscribe(a=>{window.go.main.App.SendOSCBool(l.osc_path_connected,a.connected).then(),window.go.main.App.SendOSCFloat(l.osc_path_percent,a.heartRate/(l.max_heart_rate||200)).then()}),pe.subscribe(a=>{c(a)}),[]}class ze extends B{constructor(e){super();H(this,e,qe,null,W,{})}}function ve(r){let e,l,t,n,s,o,i,c,a,u=r[0].version+"",_,f,d,k,O,R,h,C;return{c(){e=m("div"),l=m("div"),t=m("h2"),t.textContent="Update available!",n=w(),s=m("p"),o=m("span"),o.textContent=`Current version: ${r[1]}`,i=w(),c=m("span"),a=F("New version: "),_=F(u),f=w(),d=m("div"),k=m("button"),k.textContent="Download",O=w(),R=m("button"),R.textContent="Later",p(t,"class","font-bold text-2xl mb-3"),p(o,"class","block text-rose-500"),p(c,"class","block text-lime-500"),p(s,"class","text-sm"),p(k,"class","hover:bg-opacity-50 bg-opacity-30 bg-lime-800 w-full p-1.5 transition-colors rounded-lg"),p(R,"class","hover:bg-opacity-50 bg-opacity-30 bg-rose-800 py-1.5 px-4 transition-colors rounded-lg"),p(d,"class","mt-4 flex flex-row gap-1"),p(e,"class","flex items-center justify-center h-screen pt-9")},m(N,x){b(N,e,x),$(e,l),$(l,t),$(l,n),$(l,s),$(s,o),$(s,i),$(s,c),$(c,a),$(c,_),$(l,f),$(l,d),$(d,k),$(d,O),$(d,R),h||(C=[L(k,"click",r[3]),L(R,"click",r[2])],h=!0)},p(N,x){x&1&&u!==(u=N[0].version+"")&&ne(_,u)},d(N){N&&g(e),h=!1,te(C)}}}function Ee(r){let e,l=r[0].found&&ve(r);return{c(){l&&l.c(),e=xe()},m(t,n){l&&l.m(t,n),b(t,e,n)},p(t,[n]){t[0].found?l?l.p(t,n):(l=ve(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:D,o:D,d(t){l&&l.d(t),t&&g(e)}}}function Ke(r,e,l){let t,n="0.1.3";const s=async()=>{Q.set(E(t,c=>{c.found=!1}))},o=async()=>{window.runtime.BrowserOpenURL("https://github.com/kamyu1537/hr-osc/releases/latest")},i=async c=>{if(!c.loading){Q.set(E(c,a=>{a.loading=!0}));try{const u=await(await fetch("https://api.github.com/repos/kamyu1537/hr-osc/releases/latest")).json();let _=u.tag_name;_.split(".").length!==3&&(_=_+".0"),Le.gt(_,"0.1.3")?(console.info("found new version!"),Q.set(E(c,f=>{f.loading=!1,f.checked=!0,f.found=!0,f.version=u.tag_name}))):(console.info("latest version!"),Q.set(E(c,f=>{f.loading=!1,f.checked=!0,f.found=!1})))}catch(a){console.error(a),Q.set(E(c,u=>{u.loading=!1,u.checked=!0}))}}};return Q.subscribe(c=>{l(0,t=c),c.checked||i(c).then()}),[t,n,s,o]}class Qe extends B{constructor(e){super();H(this,e,Ke,Ee,W,{})}}function we(r){let e,l,t;return l=new Ce({}),{c(){e=m("div"),T(l.$$.fragment),p(e,"class","absolute animate-ping")},m(n,s){b(n,e,s),I(l,e,null),t=!0},i(n){t||(v(l.$$.fragment,n),t=!0)},o(n){y(l.$$.fragment,n),t=!1},d(n){n&&g(e),P(l)}}}function Ye(r){let e,l,t,n,s,o,i,c,a,u,_,f,d,k,O,R=(r[2]/r[0].max_heart_rate).toFixed(2)+"",h,C,N,x,S,M,J=r[1]?"Connected":"Disconnected",K,le,G,j=r[1]&&we();return o=new Ce({}),{c(){e=m("div"),l=m("div"),t=m("div"),n=m("div"),j&&j.c(),s=w(),T(o.$$.fragment),c=w(),a=m("div"),u=F(r[2]),_=w(),f=m("span"),f.textContent="bpm",d=w(),k=m("div"),O=F("("),h=F(R),C=F(")"),N=w(),x=m("div"),S=F(`Connection Status\r
    `),M=m("div"),K=F(J),p(n,"class",i=`w-10 h-10 mb-2 relative ${r[1]?"text-red-400":"text-gray-500"}`),p(t,"class","flex items-center justify-center"),p(f,"class","text-base"),p(k,"class","text-sm text-gray-600"),p(a,"class","text-xl text-center"),p(l,"class","pb-16"),p(M,"class",le=`text-xs ${r[1]?"text-lime-500":"text-gray-600"}`),p(x,"class","absolute bottom-4 text-center text-sm"),p(e,"class","w-full h-full flex items-center justify-center")},m(U,q){b(U,e,q),$(e,l),$(l,t),$(t,n),j&&j.m(n,null),$(n,s),I(o,n,null),$(l,c),$(l,a),$(a,u),$(a,_),$(a,f),$(a,d),$(a,k),$(k,O),$(k,h),$(k,C),$(e,N),$(e,x),$(x,S),$(x,M),$(M,K),G=!0},p(U,[q]){U[1]?j?q&2&&v(j,1):(j=we(),j.c(),v(j,1),j.m(n,s)):j&&(X(),y(j,1,1,()=>{j=null}),Z()),(!G||q&2&&i!==(i=`w-10 h-10 mb-2 relative ${U[1]?"text-red-400":"text-gray-500"}`))&&p(n,"class",i),(!G||q&4)&&ne(u,U[2]),(!G||q&5)&&R!==(R=(U[2]/U[0].max_heart_rate).toFixed(2)+"")&&ne(h,R),(!G||q&2)&&J!==(J=U[1]?"Connected":"Disconnected")&&ne(K,J),(!G||q&2&&le!==(le=`text-xs ${U[1]?"text-lime-500":"text-gray-600"}`))&&p(M,"class",le)},i(U){G||(v(j),v(o.$$.fragment,U),G=!0)},o(U){y(j),y(o.$$.fragment,U),G=!1},d(U){U&&g(e),j&&j.d(),P(o)}}}function Xe(r,e,l){let t;ee.subscribe(o=>{l(0,t=o)}),pe.subscribe(o=>{o||re("/widgetId")});let n,s;return se.subscribe(o=>{l(1,n=o.connected),l(2,s=o.heartRate)}),[t,n,s]}class Ze extends B{constructor(e){super();H(this,e,Xe,Ye,W,{})}}function Ve(r){let e,l,t,n,s,o,i,c,a,u,_,f,d,k,O;return{c(){e=m("div"),l=m("div"),t=m("div"),n=m("h1"),n.textContent="hr-osc",s=w(),o=m("p"),o.textContent=`version: ${r[0]}`,i=w(),c=m("a"),c.textContent="Github",a=w(),u=m("div"),_=m("a"),_.textContent="kamyu_ (@kamyu1537)",f=w(),d=m("a"),d.textContent="Ein (@selees824)",p(n,"class","text-3xl"),p(c,"class","underline text-sky-200 cursor-pointer text-xs"),p(c,"href","#/about"),p(t,"class","mb-6"),p(_,"href","#/about"),p(d,"href","#/about"),p(u,"class","text-sm underline text-sky-200 cursor-pointer flex flex-col"),p(e,"class","flex items-center h-full justify-center")},m(R,h){b(R,e,h),$(e,l),$(l,t),$(t,n),$(t,s),$(t,o),$(t,i),$(t,c),$(l,a),$(l,u),$(u,_),$(u,f),$(u,d),k||(O=[L(c,"click",r[1]),L(_,"click",r[2]),L(d,"click",r[3])],k=!0)},p:D,i:D,o:D,d(R){R&&g(e),k=!1,te(O)}}}function et(r){return["0.1.3",()=>window.runtime.BrowserOpenURL("https://github.com/kamyu1537/hr-osc.git"),()=>window.runtime.BrowserOpenURL("https://twitter.com/kamyu1537"),()=>window.runtime.BrowserOpenURL("https://twitter.com/selees824")]}class tt extends B{constructor(e){super();H(this,e,et,Ve,W,{})}}function lt(r){let e,l;const t=r[1].default,n=ae(t,r,r[0],null);return{c(){e=m("div"),n&&n.c(),p(e,"class","px-2")},m(s,o){b(s,e,o),n&&n.m(e,null),l=!0},p(s,[o]){n&&n.p&&(!l||o&1)&&ce(n,t,s,s[0],l?fe(t,s[0],o,null):ue(s[0]),null)},i(s){l||(v(n,s),l=!0)},o(s){y(n,s),l=!1},d(s){s&&g(e),n&&n.d(s)}}}const $e={};function nt(r,e,l){let{$$slots:t={},$$scope:n}=e;const s=[],o=[],i=Y(null),c=Y(null);return je($e,{registerTab:a=>{s.push(a),i.update(u=>u||a),be(()=>{const u=s.indexOf(a);s.splice(u,1),i.update(_=>_===a?s[u]||s[s.length-1]:_)})},registerPanel:a=>{o.push(a),c.update(u=>u||a),be(()=>{const u=o.indexOf(a);o.splice(u,1),c.update(_=>_===a?o[u]||o[o.length-1]:_)})},selectTab:a=>{const u=s.indexOf(a);i.set(a),c.set(o[u])},selectedTab:i,selectedPanel:c}),r.$$set=a=>{"$$scope"in a&&l(0,n=a.$$scope)},[n,t]}class st extends B{constructor(e){super();H(this,e,nt,lt,W,{})}}function ot(r){let e,l;const t=r[1].default,n=ae(t,r,r[0],null);return{c(){e=m("div"),n&&n.c(),p(e,"class","flex flex-row gap-1")},m(s,o){b(s,e,o),n&&n.m(e,null),l=!0},p(s,[o]){n&&n.p&&(!l||o&1)&&ce(n,t,s,s[0],l?fe(t,s[0],o,null):ue(s[0]),null)},i(s){l||(v(n,s),l=!0)},o(s){y(n,s),l=!1},d(s){s&&g(e),n&&n.d(s)}}}function it(r,e,l){let{$$slots:t={},$$scope:n}=e;return r.$$set=s=>{"$$scope"in s&&l(0,n=s.$$scope)},[n,t]}class rt extends B{constructor(e){super();H(this,e,it,ot,W,{})}}function at(r){let e,l,t,n;const s=r[5].default,o=ae(s,r,r[4],null);return{c(){e=m("button"),o&&o.c(),p(e,"class","pb-0.5 w-full border-b-2"),z(e,"border-b-gray-600",r[0]!==r[1]),z(e,"border-b-yellow-400",r[0]===r[1]),z(e,"text-gray-600",r[0]!==r[1]),z(e,"text-yellow-400",r[0]===r[1])},m(i,c){b(i,e,c),o&&o.m(e,null),l=!0,t||(n=L(e,"click",r[6]),t=!0)},p(i,[c]){o&&o.p&&(!l||c&16)&&ce(o,s,i,i[4],l?fe(s,i[4],c,null):ue(i[4]),null),c&3&&z(e,"border-b-gray-600",i[0]!==i[1]),c&3&&z(e,"border-b-yellow-400",i[0]===i[1]),c&3&&z(e,"text-gray-600",i[0]!==i[1]),c&3&&z(e,"text-yellow-400",i[0]===i[1])},i(i){l||(v(o,i),l=!0)},o(i){y(o,i),l=!1},d(i){i&&g(e),o&&o.d(i),t=!1,n()}}}function ct(r,e,l){let t,{$$slots:n={},$$scope:s}=e;const o={},{registerTab:i,selectTab:c,selectedTab:a}=Se($e);me(r,a,_=>l(0,t=_)),i(o);const u=()=>c(o);return r.$$set=_=>{"$$scope"in _&&l(4,s=_.$$scope)},[t,o,c,a,s,n,u]}class de extends B{constructor(e){super();H(this,e,ct,at,W,{})}}function ke(r){let e,l;const t=r[4].default,n=ae(t,r,r[3],null);return{c(){e=m("div"),n&&n.c(),p(e,"class","mt-2 text-sm")},m(s,o){b(s,e,o),n&&n.m(e,null),l=!0},p(s,o){n&&n.p&&(!l||o&8)&&ce(n,t,s,s[3],l?fe(t,s[3],o,null):ue(s[3]),null)},i(s){l||(v(n,s),l=!0)},o(s){y(n,s),l=!1},d(s){s&&g(e),n&&n.d(s)}}}function ut(r){let e,l,t=r[0]===r[1]&&ke(r);return{c(){t&&t.c(),e=xe()},m(n,s){t&&t.m(n,s),b(n,e,s),l=!0},p(n,[s]){n[0]===n[1]?t?(t.p(n,s),s&1&&v(t,1)):(t=ke(n),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(X(),y(t,1,1,()=>{t=null}),Z())},i(n){l||(v(t),l=!0)},o(n){y(t),l=!1},d(n){t&&t.d(n),n&&g(e)}}}function ft(r,e,l){let t,{$$slots:n={},$$scope:s}=e;const o={},{registerPanel:i,selectedPanel:c}=Se($e);return me(r,c,a=>l(0,t=a)),i(o),r.$$set=a=>{"$$scope"in a&&l(3,s=a.$$scope)},[t,o,c,s,n]}class _e extends B{constructor(e){super();H(this,e,ft,ut,W,{})}}function pt(r){let e;return{c(){e=F("Stromno")},m(l,t){b(l,e,t)},d(l){l&&g(e)}}}function dt(r){let e;return{c(){e=F("OSC")},m(l,t){b(l,e,t)},d(l){l&&g(e)}}}function _t(r){let e;return{c(){e=F("Parameters")},m(l,t){b(l,e,t)},d(l){l&&g(e)}}}function mt(r){let e,l,t,n,s,o;return e=new de({props:{$$slots:{default:[pt]},$$scope:{ctx:r}}}),t=new de({props:{$$slots:{default:[dt]},$$scope:{ctx:r}}}),s=new de({props:{$$slots:{default:[_t]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment),l=w(),T(t.$$.fragment),n=w(),T(s.$$.fragment)},m(i,c){I(e,i,c),b(i,l,c),I(t,i,c),b(i,n,c),I(s,i,c),o=!0},p(i,c){const a={};c&131072&&(a.$$scope={dirty:c,ctx:i}),e.$set(a);const u={};c&131072&&(u.$$scope={dirty:c,ctx:i}),t.$set(u);const _={};c&131072&&(_.$$scope={dirty:c,ctx:i}),s.$set(_)},i(i){o||(v(e.$$.fragment,i),v(t.$$.fragment,i),v(s.$$.fragment,i),o=!0)},o(i){y(e.$$.fragment,i),y(t.$$.fragment,i),y(s.$$.fragment,i),o=!1},d(i){P(e,i),i&&g(l),P(t,i),i&&g(n),P(s,i)}}}function $t(r){let e,l,t,n,s,o,i,c,a,u,_;return{c(){e=m("div"),e.textContent="Stomno widget id",l=w(),t=m("input"),s=w(),o=m("div"),o.textContent="Timeout",i=w(),c=m("input"),p(e,"class","block"),p(t,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(t,"placeholder",n=r[0].widget_id),p(o,"class","block mt-2"),p(c,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(c,"placeholder",a=r[0].timeout),p(c,"type","number")},m(f,d){b(f,e,d),b(f,l,d),b(f,t,d),A(t,r[1]),b(f,s,d),b(f,o,d),b(f,i,d),b(f,c,d),A(c,r[2]),u||(_=[L(t,"input",r[9]),L(c,"input",r[10])],u=!0)},p(f,d){d&1&&n!==(n=f[0].widget_id)&&p(t,"placeholder",n),d&2&&t.value!==f[1]&&A(t,f[1]),d&1&&a!==(a=f[0].timeout)&&p(c,"placeholder",a),d&4&&V(c.value)!==f[2]&&A(c,f[2])},d(f){f&&g(e),f&&g(l),f&&g(t),f&&g(s),f&&g(o),f&&g(i),f&&g(c),u=!1,te(_)}}}function bt(r){let e,l,t,n,s,o,i,c,a,u,_;return{c(){e=m("div"),e.textContent="VRChat OSC Host",l=w(),t=m("input"),s=w(),o=m("div"),o.textContent="VRChat OSC Port",i=w(),c=m("input"),p(e,"class","block"),p(t,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(t,"placeholder",n=r[0].osc_client_host),p(o,"class","block mt-2"),p(c,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(c,"placeholder",a=r[0].osc_client_port),p(c,"type","number")},m(f,d){b(f,e,d),b(f,l,d),b(f,t,d),A(t,r[3]),b(f,s,d),b(f,o,d),b(f,i,d),b(f,c,d),A(c,r[4]),u||(_=[L(t,"input",r[11]),L(c,"input",r[12])],u=!0)},p(f,d){d&1&&n!==(n=f[0].osc_client_host)&&p(t,"placeholder",n),d&8&&t.value!==f[3]&&A(t,f[3]),d&1&&a!==(a=f[0].osc_client_port)&&p(c,"placeholder",a),d&16&&V(c.value)!==f[4]&&A(c,f[4])},d(f){f&&g(e),f&&g(l),f&&g(t),f&&g(s),f&&g(o),f&&g(i),f&&g(c),u=!1,te(_)}}}function gt(r){let e,l,t,n,s,o,i,c,a,u,_,f,d,k,O,R;return{c(){e=m("div"),e.textContent="Connected Parameter Path",l=w(),t=m("input"),s=w(),o=m("div"),o.textContent="HR Percent Parameter Path",i=w(),c=m("input"),u=w(),_=m("div"),_.textContent="Max Heart Rate",f=w(),d=m("input"),p(e,"class","block"),p(t,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(t,"placeholder",n=r[0].osc_path_connected),p(o,"class","block mt-2"),p(c,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(c,"placeholder",a=r[0].osc_path_percent),p(_,"class","block mt-2"),p(d,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(d,"placeholder",k=r[0].max_heart_rate),p(d,"type","number")},m(h,C){b(h,e,C),b(h,l,C),b(h,t,C),A(t,r[5]),b(h,s,C),b(h,o,C),b(h,i,C),b(h,c,C),A(c,r[6]),b(h,u,C),b(h,_,C),b(h,f,C),b(h,d,C),A(d,r[7]),O||(R=[L(t,"input",r[13]),L(c,"input",r[14]),L(d,"input",r[15])],O=!0)},p(h,C){C&1&&n!==(n=h[0].osc_path_connected)&&p(t,"placeholder",n),C&32&&t.value!==h[5]&&A(t,h[5]),C&1&&a!==(a=h[0].osc_path_percent)&&p(c,"placeholder",a),C&64&&c.value!==h[6]&&A(c,h[6]),C&1&&k!==(k=h[0].max_heart_rate)&&p(d,"placeholder",k),C&128&&V(d.value)!==h[7]&&A(d,h[7])},d(h){h&&g(e),h&&g(l),h&&g(t),h&&g(s),h&&g(o),h&&g(i),h&&g(c),h&&g(u),h&&g(_),h&&g(f),h&&g(d),O=!1,te(R)}}}function ht(r){let e,l,t,n,s,o,i,c;return e=new rt({props:{$$slots:{default:[mt]},$$scope:{ctx:r}}}),t=new _e({props:{$$slots:{default:[$t]},$$scope:{ctx:r}}}),s=new _e({props:{$$slots:{default:[bt]},$$scope:{ctx:r}}}),i=new _e({props:{$$slots:{default:[gt]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment),l=w(),T(t.$$.fragment),n=w(),T(s.$$.fragment),o=w(),T(i.$$.fragment)},m(a,u){I(e,a,u),b(a,l,u),I(t,a,u),b(a,n,u),I(s,a,u),b(a,o,u),I(i,a,u),c=!0},p(a,u){const _={};u&131072&&(_.$$scope={dirty:u,ctx:a}),e.$set(_);const f={};u&131079&&(f.$$scope={dirty:u,ctx:a}),t.$set(f);const d={};u&131097&&(d.$$scope={dirty:u,ctx:a}),s.$set(d);const k={};u&131297&&(k.$$scope={dirty:u,ctx:a}),i.$set(k)},i(a){c||(v(e.$$.fragment,a),v(t.$$.fragment,a),v(s.$$.fragment,a),v(i.$$.fragment,a),c=!0)},o(a){y(e.$$.fragment,a),y(t.$$.fragment,a),y(s.$$.fragment,a),y(i.$$.fragment,a),c=!1},d(a){P(e,a),a&&g(l),P(t,a),a&&g(n),P(s,a),a&&g(o),P(i,a)}}}function vt(r){let e,l,t,n,s,o,i,c;return l=new st({props:{$$slots:{default:[ht]},$$scope:{ctx:r}}}),{c(){e=m("div"),T(l.$$.fragment),t=w(),n=m("div"),s=m("button"),s.textContent="Save",p(s,"class","w-full h-full text-white hover:bg-opacity-50 bg-opacity-30 bg-lime-800 transition-colors"),p(n,"class","absolute left-0 right-0 bottom-0 h-10"),p(e,"class","relative pb-10 min-h-full")},m(a,u){b(a,e,u),I(l,e,null),$(e,t),$(e,n),$(n,s),o=!0,i||(c=L(s,"click",r[8]),i=!0)},p(a,[u]){const _={};u&131327&&(_.$$scope={dirty:u,ctx:a}),l.$set(_)},i(a){o||(v(l.$$.fragment,a),o=!0)},o(a){y(l.$$.fragment,a),o=!1},d(a){a&&g(e),P(l),i=!1,c()}}}function wt(r,e,l){let t,n,s,o,i,c,a,u,_=!1;ee.subscribe(x=>{l(0,t=x),l(1,n=t.widget_id),l(2,s=t.timeout),l(3,o=t.osc_client_host),l(4,i=t.osc_client_port),l(5,c=t.osc_path_connected),l(6,a=t.osc_path_percent),l(7,u=t.max_heart_rate)});const f=async()=>{if(!_){_=!0;try{const x={widget_id:n,timeout:s,osc_client_host:o,osc_client_port:i,osc_path_connected:c,osc_path_percent:a,max_heart_rate:u};await window.go.main.App.UpdateConfig(JSON.stringify(x)),await window.go.main.App.SaveConfig(),ee.set(E(t,S=>Object.assign(S,x)))}catch(x){console.error(x)}finally{_=!1,re("/").then()}}};function d(){n=this.value,l(1,n)}function k(){s=V(this.value),l(2,s)}function O(){o=this.value,l(3,o)}function R(){i=V(this.value),l(4,i)}function h(){c=this.value,l(5,c)}function C(){a=this.value,l(6,a)}function N(){u=V(this.value),l(7,u)}return[t,n,s,o,i,c,a,u,f,d,k,O,R,h,C,N]}class kt extends B{constructor(e){super();H(this,e,wt,vt,W,{})}}function yt(r){let e,l,t,n,s,o,i,c,a,u;return{c(){e=m("div"),l=m("h2"),l.textContent="Your Stromno Widget ID",t=w(),n=m("a"),n.textContent="Stromno Dashboard",s=w(),o=m("input"),i=w(),c=m("button"),c.textContent="Save",p(l,"class","text-xl font-bold pt-6"),p(n,"class","text-yellow-400 cursor-pointer hover:underline"),p(n,"href","#"),p(o,"class","mt-6 cursor-text p-2 bg-gray-500 bg-opacity-10 rounded-md outline-none text-sm w-full"),p(o,"placeholder","input-your-stromno-widgetid"),p(c,"class","bg-lime-800 text-white bg-opacity-20 hover:bg-opacity-30 rounded-md p-2 absolute bottom-2 left-2 right-2"),p(e,"class","text-center px-2 h-full pb-10 relative")},m(_,f){b(_,e,f),$(e,l),$(e,t),$(e,n),$(e,s),$(e,o),A(o,r[0]),$(e,i),$(e,c),a||(u=[L(n,"click",r[2]),L(o,"input",r[3]),L(c,"click",r[1])],a=!0)},p(_,[f]){f&1&&o.value!==_[0]&&A(o,_[0])},i:D,o:D,d(_){_&&g(e),a=!1,te(u)}}}function xt(r,e,l){let t="",n=!1;const s=async()=>{if(!n){n=!0;try{const c=await window.go.main.App.UpdateConfig(JSON.stringify({widget_id:t}));await window.go.main.App.SaveConfig(),pe.set(c),c!==""&&re("/").then()}finally{n=!1}}},o=()=>{window.runtime.BrowserOpenURL("https://app.stromno.com/dashboard")};function i(){t=this.value,l(0,t)}return[t,s,o,i]}class Ct extends B{constructor(e){super();H(this,e,xt,yt,W,{})}}const St={"/about":tt,"/settings":kt,"/widgetId":Ct,"*":Ze};function Ot(r){let e,l,t,n,s;return e=new ze({}),n=new Ae({props:{routes:St}}),{c(){T(e.$$.fragment),l=w(),t=m("div"),T(n.$$.fragment),p(t,"class","pt-9 h-screen")},m(o,i){I(e,o,i),b(o,l,i),b(o,t,i),I(n,t,null),s=!0},p:D,i(o){s||(v(e.$$.fragment,o),v(n.$$.fragment,o),s=!0)},o(o){y(e.$$.fragment,o),y(n.$$.fragment,o),s=!1},d(o){P(e,o),o&&g(l),o&&g(t),P(n)}}}function Rt(r){let e,l;return e=new De({}),{c(){T(e.$$.fragment)},m(t,n){I(e,t,n),l=!0},p:D,i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Tt(r){let e,l,t,n,s,o,i,c;l=new Je({}),n=new Qe({});const a=[Rt,Ot],u=[];function _(f,d){return f[0]||f[1].loading||!f[1].checked?0:f[1].found?-1:1}return~(o=_(r))&&(i=u[o]=a[o](r)),{c(){e=m("main"),T(l.$$.fragment),t=w(),T(n.$$.fragment),s=w(),i&&i.c(),p(e,"class","svelte-1urxoo4")},m(f,d){b(f,e,d),I(l,e,null),$(e,t),I(n,e,null),$(e,s),~o&&u[o].m(e,null),c=!0},p(f,[d]){let k=o;o=_(f),o===k?~o&&u[o].p(f,d):(i&&(X(),y(u[k],1,1,()=>{u[k]=null}),Z()),~o?(i=u[o],i?i.p(f,d):(i=u[o]=a[o](f),i.c()),v(i,1),i.m(e,null)):i=null)},i(f){c||(v(l.$$.fragment,f),v(n.$$.fragment,f),v(i),c=!0)},o(f){y(l.$$.fragment,f),y(n.$$.fragment,f),y(i),c=!1},d(f){f&&g(e),P(l),P(n),~o&&u[o].d()}}}function It(r,e,l){let t=!0,n;return Oe.subscribe(s=>l(0,t=s)),Q.subscribe(s=>l(1,n=s)),[t,n]}class Pt extends B{constructor(e){super();H(this,e,It,Tt,W,{})}}new Pt({target:document.body});
