import{S as B,i as H,s as W,e as m,a as p,b,n as D,d as g,t as F,c as R,f as $,m as T,l as L,g as v,h as k,j as P,k as w,o as X,p as Z,q as me,I as Ie,r as Re,u as ye,v as oe,w as ie,x as Te,y as Pe,z as re,A as Y,B as Q,C as ne,D as ee,E as xe,F as Le,G as Ce,H as ae,J as ce,K as ue,L as fe,M as je,N as be,O as z,P as Se,Q as V,R as A,T as Ae}from"./vendor.js";const Ue=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function l(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(n){if(n.ep)return;n.ep=!0;const s=l(n);fetch(n.href,s)}};Ue();function Ne(r){let e;return{c(){e=m("div"),e.innerHTML=`<div class="flex flex-col items-center"><div class="animate-bounce"><div class="bg-white w-5 h-5 animate-spin">\xA0</div></div> 

    <div class="mt-3">Loading...</div></div>`,p(e,"class","w-full h-full flex items-center justify-center")},m(l,t){b(l,e,t)},p:D,i:D,o:D,d(l){l&&g(e)}}}class De extends B{constructor(e){super();H(this,e,null,Ne,W,{})}}function ge(r){let e;return{c(){e=F("hr-osc")},m(l,t){b(l,e,t)},d(l){l&&g(e)}}}function Be(r){let e,l,t,n,s,o;return t=new ye({}),{c(){e=m("a"),l=m("div"),R(t.$$.fragment),p(l,"class","w-4 h-4"),p(e,"class","rounded-full overflow-hidden hover:text-gray-800 hover:bg-white w-6 h-6 flex items-center justify-center transition-colors"),p(e,"data-wails-no-drag",""),p(e,"href","/")},m(i,a){b(i,e,a),$(e,l),T(t,l,null),n=!0,s||(o=oe(ie.call(null,e)),s=!0)},i(i){n||(v(t.$$.fragment,i),n=!0)},o(i){k(t.$$.fragment,i),n=!1},d(i){i&&g(e),P(t),s=!1,o()}}}function He(r){let e,l,t,n,s,o;return t=new Te({}),{c(){e=m("a"),l=m("div"),R(t.$$.fragment),p(l,"class","w-4 h-4"),p(e,"class","rounded-full overflow-hidden hover:text-gray-800 hover:bg-white w-6 h-6 flex items-center justify-center transition-colors"),p(e,"data-wails-no-drag",""),p(e,"href","/about")},m(i,a){b(i,e,a),$(e,l),T(t,l,null),n=!0,s||(o=oe(ie.call(null,e)),s=!0)},i(i){n||(v(t.$$.fragment,i),n=!0)},o(i){k(t.$$.fragment,i),n=!1},d(i){i&&g(e),P(t),s=!1,o()}}}function We(r){let e,l,t,n,s,o;return t=new ye({}),{c(){e=m("a"),l=m("div"),R(t.$$.fragment),p(l,"class","w-4 h-4"),p(e,"class","rounded-full overflow-hidden hover:text-gray-800 hover:bg-white w-6 h-6 flex items-center justify-center transition-colors"),p(e,"data-wails-no-drag",""),p(e,"href","/")},m(i,a){b(i,e,a),$(e,l),T(t,l,null),n=!0,s||(o=oe(ie.call(null,e)),s=!0)},i(i){n||(v(t.$$.fragment,i),n=!0)},o(i){k(t.$$.fragment,i),n=!1},d(i){i&&g(e),P(t),s=!1,o()}}}function Me(r){let e,l,t,n,s,o;return t=new Pe({}),{c(){e=m("a"),l=m("div"),R(t.$$.fragment),p(l,"class","w-4 h-4"),p(e,"class","rounded-full overflow-hidden hover:text-gray-800 hover:bg-white w-6 h-6 flex items-center justify-center transition-colors"),p(e,"data-wails-no-drag",""),p(e,"href","/settings")},m(i,a){b(i,e,a),$(e,l),T(t,l,null),n=!0,s||(o=oe(ie.call(null,e)),s=!0)},i(i){n||(v(t.$$.fragment,i),n=!0)},o(i){k(t.$$.fragment,i),n=!1},d(i){i&&g(e),P(t),s=!1,o()}}}function he(r){let e,l,t,n,s,o;return t=new Ie({}),{c(){e=m("div"),l=m("div"),R(t.$$.fragment),p(l,"class","w-6 h-6"),p(e,"class","rounded-full overflow-hidden hover:text-gray-800 hover:bg-rose-500 w-6 h-6 flex items-center justify-center transition-colors cursor-pointer"),p(e,"data-wails-no-drag","")},m(i,a){b(i,e,a),$(e,l),T(t,l,null),n=!0,s||(o=L(e,"click",r[2]),s=!0)},p:D,i(i){n||(v(t.$$.fragment,i),n=!0)},o(i){k(t.$$.fragment,i),n=!1},d(i){i&&g(e),P(t),s=!1,o()}}}function Fe(r){let e,l,t,n,s,o,i,a,c,u,_,f,d=r[0]!=="darwin"&&ge();const y=[He,Be],S=[];function O(I,M){return I[1]!=="/about"?0:1}o=O(r),i=S[o]=y[o](r);const h=[Me,We],x=[];function N(I,M){return I[1]!=="/settings"?0:1}c=N(r),u=x[c]=h[c](r);let C=r[0]!=="darwin"&&he(r);return{c(){e=m("div"),l=m("div"),t=m("div"),d&&d.c(),n=w(),s=m("div"),i.c(),a=w(),u.c(),_=w(),C&&C.c(),p(t,"class","px-1"),p(s,"class","flex gap-1 items-center h-full"),p(l,"class","w-full h-full px-2 flex items-center justify-between z-0"),p(e,"class","fixed top-0 left-0 right-0 h-9 z-10"),p(e,"data-wails-drag","")},m(I,M){b(I,e,M),$(e,l),$(l,t),d&&d.m(t,null),$(l,n),$(l,s),S[o].m(s,null),$(s,a),x[c].m(s,null),$(s,_),C&&C.m(s,null),f=!0},p(I,[M]){I[0]!=="darwin"?d||(d=ge(),d.c(),d.m(t,null)):d&&(d.d(1),d=null);let J=o;o=O(I),o!==J&&(X(),k(S[J],1,1,()=>{S[J]=null}),Z(),i=S[o],i||(i=S[o]=y[o](I),i.c()),v(i,1),i.m(s,a));let E=c;c=N(I),c!==E&&(X(),k(x[E],1,1,()=>{x[E]=null}),Z(),u=x[c],u||(u=x[c]=h[c](I),u.c()),v(u,1),u.m(s,_)),I[0]!=="darwin"?C?(C.p(I,M),M&1&&v(C,1)):(C=he(I),C.c(),v(C,1),C.m(s,null)):C&&(X(),k(C,1,1,()=>{C=null}),Z())},i(I){f||(v(i),v(u),v(C),f=!0)},o(I){k(i),k(u),k(C),f=!1},d(I){I&&g(e),d&&d.d(),S[o].d(),x[c].d(),C&&C.d()}}}function Ge(r,e,l){let t;me(r,Re,o=>l(1,t=o));let n="";return window.go.main.App.GetOS().then(o=>l(0,n=o)),[n,t,()=>window.runtime.Quit()]}class Je extends B{constructor(e){super();H(this,e,Ge,Fe,W,{})}}const K=Y({loading:!1,checked:!1,found:!1,version:""}),te=Y({osc_client_host:"127.0.0.1",osc_client_port:9e3,osc_path_connected:"/avatar/parameters/hr_connected",osc_path_percent:"/avatar/parameters/hr_percent",widget_id:"",max_heart_rate:200,timeout:10}),Oe=Y(!0),pe=Y(""),se=Y({connected:!1,heartRate:0});window.go.main.App.GetConfig().then(r=>{te.set({osc_client_host:r.osc_client_host,osc_client_port:r.osc_client_port,osc_path_connected:r.osc_path_connected,osc_path_percent:r.osc_path_percent,widget_id:r.widget_id,max_heart_rate:r.max_heart_rate,timeout:r.timeout})});te.subscribe(()=>{window.go.main.App.GetWebSocketUrl().then(r=>{Oe.set(!1),pe.set(r),r===""&&re("/widgetId").then()})});function qe(r){let e,l,t,n,s,o={connected:!1,heartRate:0};const i=()=>{!o||!t||(n=setTimeout(()=>{console.info("timeout"),se.set(Q(o,u=>{u.connected=!1,u.heartRate=0}))},(t.timeout||10)*1e3))},a=u=>{!u||(l&&(console.info("close"),l.close(),l=null),l=new WebSocket(u),l.onopen=()=>{console.info("opened")},l.onmessage=_=>{console.info(_.data);try{const f=JSON.parse(_.data);if(f){let y=f.data.heartRate||0;se.set(Q(o,S=>{S.connected=!0,S.heartRate=y}))}n&&clearTimeout(n),i()}catch(f){console.error(f)}},l.onerror=_=>{console.error(_)},l.onclose=()=>{console.info("closed"),setTimeout(()=>a(u),0)})},c=u=>{s!==u&&(s=u,a(u))};return te.subscribe(u=>{t=u,e||(se.subscribe(_=>{window.go.main.App.SendOSCBool(t.osc_path_connected,_.connected).then(),window.go.main.App.SendOSCFloat(t.osc_path_percent,_.heartRate).then()}),pe.subscribe(_=>{c(_)}),e=!0)}),[]}class ze extends B{constructor(e){super();H(this,e,qe,null,W,{})}}function ve(r){let e,l,t,n,s,o,i,a,c,u=r[0].version+"",_,f,d,y,S,O,h,x;return{c(){e=m("div"),l=m("div"),t=m("h2"),t.textContent="Update available!",n=w(),s=m("p"),o=m("span"),o.textContent=`Current version: ${r[1]}`,i=w(),a=m("span"),c=F("New version: "),_=F(u),f=w(),d=m("div"),y=m("button"),y.textContent="Download",S=w(),O=m("button"),O.textContent="Later",p(t,"class","font-bold text-2xl mb-3"),p(o,"class","block text-rose-500"),p(a,"class","block text-lime-500"),p(s,"class","text-sm"),p(y,"class","hover:bg-opacity-50 bg-opacity-30 bg-lime-800 w-full p-1.5 transition-colors rounded-lg"),p(O,"class","hover:bg-opacity-50 bg-opacity-30 bg-rose-800 py-1.5 px-4 transition-colors rounded-lg"),p(d,"class","mt-4 flex flex-row gap-1"),p(e,"class","flex items-center justify-center h-screen pt-9")},m(N,C){b(N,e,C),$(e,l),$(l,t),$(l,n),$(l,s),$(s,o),$(s,i),$(s,a),$(a,c),$(a,_),$(l,f),$(l,d),$(d,y),$(d,S),$(d,O),h||(x=[L(y,"click",r[3]),L(O,"click",r[2])],h=!0)},p(N,C){C&1&&u!==(u=N[0].version+"")&&ne(_,u)},d(N){N&&g(e),h=!1,ee(x)}}}function Ee(r){let e,l=r[0].found&&ve(r);return{c(){l&&l.c(),e=xe()},m(t,n){l&&l.m(t,n),b(t,e,n)},p(t,[n]){t[0].found?l?l.p(t,n):(l=ve(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:D,o:D,d(t){l&&l.d(t),t&&g(e)}}}function Ke(r,e,l){let t,n="0.1.0";const s=async()=>{K.set(Q(t,a=>{a.found=!1}))},o=async()=>{window.runtime.BrowserOpenURL("https://github.com/kamyu1537/hr-osc/releases/latest")},i=async a=>{if(!a.loading){K.set(Q(a,c=>{c.loading=!0}));try{const u=await(await fetch("https://api.github.com/repos/kamyu1537/hr-osc/releases/latest")).json();let _=u.tag_name;_.split(".").length!==3&&(_=_+".0"),Le.gt(_,"0.1.0")?(console.info("found new version!"),K.set(Q(a,f=>{f.loading=!1,f.checked=!0,f.found=!0,f.version=u.tag_name}))):(console.info("latest version!"),K.set(Q(a,f=>{f.loading=!1,f.checked=!0,f.found=!1})))}catch(c){console.error(c),K.set(Q(a,u=>{u.loading=!1,u.checked=!0}))}}};return K.subscribe(a=>{l(0,t=a),a.checked||i(a).then()}),[t,n,s,o]}class Qe extends B{constructor(e){super();H(this,e,Ke,Ee,W,{})}}function we(r){let e,l,t;return l=new Ce({}),{c(){e=m("div"),R(l.$$.fragment),p(e,"class","absolute animate-ping")},m(n,s){b(n,e,s),T(l,e,null),t=!0},i(n){t||(v(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&g(e),P(l)}}}function Ye(r){let e,l,t,n,s,o,i,a,c,u,_,f,d,y,S,O=(r[2]/r[0].max_heart_rate).toFixed(2)+"",h,x,N,C,I,M,J=r[1]?"Connected":"Disconnected",E,le,G,j=r[1]&&we();return o=new Ce({}),{c(){e=m("div"),l=m("div"),t=m("div"),n=m("div"),j&&j.c(),s=w(),R(o.$$.fragment),a=w(),c=m("div"),u=F(r[2]),_=w(),f=m("span"),f.textContent="bpm",d=w(),y=m("div"),S=F("("),h=F(O),x=F(")"),N=w(),C=m("div"),I=F(`Connection Status\r
    `),M=m("div"),E=F(J),p(n,"class",i=`w-10 h-10 mb-2 relative ${r[1]?"text-red-400":"text-gray-500"}`),p(t,"class","flex items-center justify-center"),p(f,"class","text-base"),p(y,"class","text-sm text-gray-600"),p(c,"class","text-xl text-center"),p(l,"class","pb-16"),p(M,"class",le=`text-xs ${r[1]?"text-lime-500":"text-gray-600"}`),p(C,"class","absolute bottom-4 text-center text-sm"),p(e,"class","w-full h-full flex items-center justify-center")},m(U,q){b(U,e,q),$(e,l),$(l,t),$(t,n),j&&j.m(n,null),$(n,s),T(o,n,null),$(l,a),$(l,c),$(c,u),$(c,_),$(c,f),$(c,d),$(c,y),$(y,S),$(y,h),$(y,x),$(e,N),$(e,C),$(C,I),$(C,M),$(M,E),G=!0},p(U,[q]){U[1]?j?q&2&&v(j,1):(j=we(),j.c(),v(j,1),j.m(n,s)):j&&(X(),k(j,1,1,()=>{j=null}),Z()),(!G||q&2&&i!==(i=`w-10 h-10 mb-2 relative ${U[1]?"text-red-400":"text-gray-500"}`))&&p(n,"class",i),(!G||q&4)&&ne(u,U[2]),(!G||q&5)&&O!==(O=(U[2]/U[0].max_heart_rate).toFixed(2)+"")&&ne(h,O),(!G||q&2)&&J!==(J=U[1]?"Connected":"Disconnected")&&ne(E,J),(!G||q&2&&le!==(le=`text-xs ${U[1]?"text-lime-500":"text-gray-600"}`))&&p(M,"class",le)},i(U){G||(v(j),v(o.$$.fragment,U),G=!0)},o(U){k(j),k(o.$$.fragment,U),G=!1},d(U){U&&g(e),j&&j.d(),P(o)}}}function Xe(r,e,l){let t;te.subscribe(o=>{l(0,t=o)}),pe.subscribe(o=>{o||re("/widgetId")});let n,s;return se.subscribe(o=>{l(1,n=o.connected),l(2,s=o.heartRate)}),[t,n,s]}class Ze extends B{constructor(e){super();H(this,e,Xe,Ye,W,{})}}function Ve(r){let e,l,t,n,s,o,i,a,c,u,_,f,d,y,S;return{c(){e=m("div"),l=m("div"),t=m("div"),n=m("h1"),n.textContent="hr-osc",s=w(),o=m("p"),o.textContent=`version: ${r[0]}`,i=w(),a=m("a"),a.textContent="Github",c=w(),u=m("div"),_=m("a"),_.textContent="kamyu_ (@kamyu1537)",f=w(),d=m("a"),d.textContent="Ein (@selees824)",p(n,"class","text-3xl"),p(a,"class","underline text-sky-200 cursor-pointer text-xs"),p(a,"href","#/about"),p(t,"class","mb-6"),p(_,"href","#/about"),p(d,"href","#/about"),p(u,"class","text-sm underline text-sky-200 cursor-pointer flex flex-col"),p(e,"class","flex items-center h-full justify-center")},m(O,h){b(O,e,h),$(e,l),$(l,t),$(t,n),$(t,s),$(t,o),$(t,i),$(t,a),$(l,c),$(l,u),$(u,_),$(u,f),$(u,d),y||(S=[L(a,"click",r[1]),L(_,"click",r[2]),L(d,"click",r[3])],y=!0)},p:D,i:D,o:D,d(O){O&&g(e),y=!1,ee(S)}}}function et(r){return["0.1.0",()=>window.runtime.BrowserOpenURL("https://github.com/kamyu1537/hr-osc.git"),()=>window.runtime.BrowserOpenURL("https://twitter.com/kamyu1537"),()=>window.runtime.BrowserOpenURL("https://twitter.com/selees824")]}class tt extends B{constructor(e){super();H(this,e,et,Ve,W,{})}}function lt(r){let e,l;const t=r[1].default,n=ae(t,r,r[0],null);return{c(){e=m("div"),n&&n.c(),p(e,"class","px-2")},m(s,o){b(s,e,o),n&&n.m(e,null),l=!0},p(s,[o]){n&&n.p&&(!l||o&1)&&ce(n,t,s,s[0],l?fe(t,s[0],o,null):ue(s[0]),null)},i(s){l||(v(n,s),l=!0)},o(s){k(n,s),l=!1},d(s){s&&g(e),n&&n.d(s)}}}const $e={};function nt(r,e,l){let{$$slots:t={},$$scope:n}=e;const s=[],o=[],i=Y(null),a=Y(null);return je($e,{registerTab:c=>{s.push(c),i.update(u=>u||c),be(()=>{const u=s.indexOf(c);s.splice(u,1),i.update(_=>_===c?s[u]||s[s.length-1]:_)})},registerPanel:c=>{o.push(c),a.update(u=>u||c),be(()=>{const u=o.indexOf(c);o.splice(u,1),a.update(_=>_===c?o[u]||o[o.length-1]:_)})},selectTab:c=>{const u=s.indexOf(c);i.set(c),a.set(o[u])},selectedTab:i,selectedPanel:a}),r.$$set=c=>{"$$scope"in c&&l(0,n=c.$$scope)},[n,t]}class st extends B{constructor(e){super();H(this,e,nt,lt,W,{})}}function ot(r){let e,l;const t=r[1].default,n=ae(t,r,r[0],null);return{c(){e=m("div"),n&&n.c(),p(e,"class","flex flex-row gap-1")},m(s,o){b(s,e,o),n&&n.m(e,null),l=!0},p(s,[o]){n&&n.p&&(!l||o&1)&&ce(n,t,s,s[0],l?fe(t,s[0],o,null):ue(s[0]),null)},i(s){l||(v(n,s),l=!0)},o(s){k(n,s),l=!1},d(s){s&&g(e),n&&n.d(s)}}}function it(r,e,l){let{$$slots:t={},$$scope:n}=e;return r.$$set=s=>{"$$scope"in s&&l(0,n=s.$$scope)},[n,t]}class rt extends B{constructor(e){super();H(this,e,it,ot,W,{})}}function at(r){let e,l,t,n;const s=r[5].default,o=ae(s,r,r[4],null);return{c(){e=m("button"),o&&o.c(),p(e,"class","pb-0.5 w-full border-b-2"),z(e,"border-b-gray-600",r[0]!==r[1]),z(e,"border-b-yellow-400",r[0]===r[1]),z(e,"text-gray-600",r[0]!==r[1]),z(e,"text-yellow-400",r[0]===r[1])},m(i,a){b(i,e,a),o&&o.m(e,null),l=!0,t||(n=L(e,"click",r[6]),t=!0)},p(i,[a]){o&&o.p&&(!l||a&16)&&ce(o,s,i,i[4],l?fe(s,i[4],a,null):ue(i[4]),null),a&3&&z(e,"border-b-gray-600",i[0]!==i[1]),a&3&&z(e,"border-b-yellow-400",i[0]===i[1]),a&3&&z(e,"text-gray-600",i[0]!==i[1]),a&3&&z(e,"text-yellow-400",i[0]===i[1])},i(i){l||(v(o,i),l=!0)},o(i){k(o,i),l=!1},d(i){i&&g(e),o&&o.d(i),t=!1,n()}}}function ct(r,e,l){let t,{$$slots:n={},$$scope:s}=e;const o={},{registerTab:i,selectTab:a,selectedTab:c}=Se($e);me(r,c,_=>l(0,t=_)),i(o);const u=()=>a(o);return r.$$set=_=>{"$$scope"in _&&l(4,s=_.$$scope)},[t,o,a,c,s,n,u]}class de extends B{constructor(e){super();H(this,e,ct,at,W,{})}}function ke(r){let e,l;const t=r[4].default,n=ae(t,r,r[3],null);return{c(){e=m("div"),n&&n.c(),p(e,"class","mt-2 text-sm")},m(s,o){b(s,e,o),n&&n.m(e,null),l=!0},p(s,o){n&&n.p&&(!l||o&8)&&ce(n,t,s,s[3],l?fe(t,s[3],o,null):ue(s[3]),null)},i(s){l||(v(n,s),l=!0)},o(s){k(n,s),l=!1},d(s){s&&g(e),n&&n.d(s)}}}function ut(r){let e,l,t=r[0]===r[1]&&ke(r);return{c(){t&&t.c(),e=xe()},m(n,s){t&&t.m(n,s),b(n,e,s),l=!0},p(n,[s]){n[0]===n[1]?t?(t.p(n,s),s&1&&v(t,1)):(t=ke(n),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(X(),k(t,1,1,()=>{t=null}),Z())},i(n){l||(v(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&g(e)}}}function ft(r,e,l){let t,{$$slots:n={},$$scope:s}=e;const o={},{registerPanel:i,selectedPanel:a}=Se($e);return me(r,a,c=>l(0,t=c)),i(o),r.$$set=c=>{"$$scope"in c&&l(3,s=c.$$scope)},[t,o,a,s,n]}class _e extends B{constructor(e){super();H(this,e,ft,ut,W,{})}}function pt(r){let e;return{c(){e=F("Stromno")},m(l,t){b(l,e,t)},d(l){l&&g(e)}}}function dt(r){let e;return{c(){e=F("OSC")},m(l,t){b(l,e,t)},d(l){l&&g(e)}}}function _t(r){let e;return{c(){e=F("Parameters")},m(l,t){b(l,e,t)},d(l){l&&g(e)}}}function mt(r){let e,l,t,n,s,o;return e=new de({props:{$$slots:{default:[pt]},$$scope:{ctx:r}}}),t=new de({props:{$$slots:{default:[dt]},$$scope:{ctx:r}}}),s=new de({props:{$$slots:{default:[_t]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),l=w(),R(t.$$.fragment),n=w(),R(s.$$.fragment)},m(i,a){T(e,i,a),b(i,l,a),T(t,i,a),b(i,n,a),T(s,i,a),o=!0},p(i,a){const c={};a&131072&&(c.$$scope={dirty:a,ctx:i}),e.$set(c);const u={};a&131072&&(u.$$scope={dirty:a,ctx:i}),t.$set(u);const _={};a&131072&&(_.$$scope={dirty:a,ctx:i}),s.$set(_)},i(i){o||(v(e.$$.fragment,i),v(t.$$.fragment,i),v(s.$$.fragment,i),o=!0)},o(i){k(e.$$.fragment,i),k(t.$$.fragment,i),k(s.$$.fragment,i),o=!1},d(i){P(e,i),i&&g(l),P(t,i),i&&g(n),P(s,i)}}}function $t(r){let e,l,t,n,s,o,i,a,c,u,_;return{c(){e=m("div"),e.textContent="Stomno widget id",l=w(),t=m("input"),s=w(),o=m("div"),o.textContent="Timeout",i=w(),a=m("input"),p(e,"class","block"),p(t,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(t,"placeholder",n=r[0].widget_id),p(o,"class","block mt-2"),p(a,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(a,"placeholder",c=r[0].timeout),p(a,"type","number")},m(f,d){b(f,e,d),b(f,l,d),b(f,t,d),A(t,r[1]),b(f,s,d),b(f,o,d),b(f,i,d),b(f,a,d),A(a,r[2]),u||(_=[L(t,"input",r[9]),L(a,"input",r[10])],u=!0)},p(f,d){d&1&&n!==(n=f[0].widget_id)&&p(t,"placeholder",n),d&2&&t.value!==f[1]&&A(t,f[1]),d&1&&c!==(c=f[0].timeout)&&p(a,"placeholder",c),d&4&&V(a.value)!==f[2]&&A(a,f[2])},d(f){f&&g(e),f&&g(l),f&&g(t),f&&g(s),f&&g(o),f&&g(i),f&&g(a),u=!1,ee(_)}}}function bt(r){let e,l,t,n,s,o,i,a,c,u,_;return{c(){e=m("div"),e.textContent="VRChat OSC Host",l=w(),t=m("input"),s=w(),o=m("div"),o.textContent="VRChat OSC Port",i=w(),a=m("input"),p(e,"class","block"),p(t,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(t,"placeholder",n=r[0].osc_client_host),p(o,"class","block mt-2"),p(a,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(a,"placeholder",c=r[0].osc_client_port),p(a,"type","number")},m(f,d){b(f,e,d),b(f,l,d),b(f,t,d),A(t,r[3]),b(f,s,d),b(f,o,d),b(f,i,d),b(f,a,d),A(a,r[4]),u||(_=[L(t,"input",r[11]),L(a,"input",r[12])],u=!0)},p(f,d){d&1&&n!==(n=f[0].osc_client_host)&&p(t,"placeholder",n),d&8&&t.value!==f[3]&&A(t,f[3]),d&1&&c!==(c=f[0].osc_client_port)&&p(a,"placeholder",c),d&16&&V(a.value)!==f[4]&&A(a,f[4])},d(f){f&&g(e),f&&g(l),f&&g(t),f&&g(s),f&&g(o),f&&g(i),f&&g(a),u=!1,ee(_)}}}function gt(r){let e,l,t,n,s,o,i,a,c,u,_,f,d,y,S,O;return{c(){e=m("div"),e.textContent="Connected Parameter Path",l=w(),t=m("input"),s=w(),o=m("div"),o.textContent="HR Percent Parameter Path",i=w(),a=m("input"),u=w(),_=m("div"),_.textContent="Max Heart Rate",f=w(),d=m("input"),p(e,"class","block"),p(t,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(t,"placeholder",n=r[0].osc_path_connected),p(o,"class","block mt-2"),p(a,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(a,"placeholder",c=r[0].osc_path_percent),p(_,"class","block mt-2"),p(d,"class","select-text block text-gray-400 text-xs w-full outline-none bg-gray-500 bg-opacity-10 active:bg-opacity-20 text-gray-600 rounded-sm p-0.5"),p(d,"placeholder",y=r[0].max_heart_rate),p(d,"type","number")},m(h,x){b(h,e,x),b(h,l,x),b(h,t,x),A(t,r[5]),b(h,s,x),b(h,o,x),b(h,i,x),b(h,a,x),A(a,r[6]),b(h,u,x),b(h,_,x),b(h,f,x),b(h,d,x),A(d,r[7]),S||(O=[L(t,"input",r[13]),L(a,"input",r[14]),L(d,"input",r[15])],S=!0)},p(h,x){x&1&&n!==(n=h[0].osc_path_connected)&&p(t,"placeholder",n),x&32&&t.value!==h[5]&&A(t,h[5]),x&1&&c!==(c=h[0].osc_path_percent)&&p(a,"placeholder",c),x&64&&a.value!==h[6]&&A(a,h[6]),x&1&&y!==(y=h[0].max_heart_rate)&&p(d,"placeholder",y),x&128&&V(d.value)!==h[7]&&A(d,h[7])},d(h){h&&g(e),h&&g(l),h&&g(t),h&&g(s),h&&g(o),h&&g(i),h&&g(a),h&&g(u),h&&g(_),h&&g(f),h&&g(d),S=!1,ee(O)}}}function ht(r){let e,l,t,n,s,o,i,a;return e=new rt({props:{$$slots:{default:[mt]},$$scope:{ctx:r}}}),t=new _e({props:{$$slots:{default:[$t]},$$scope:{ctx:r}}}),s=new _e({props:{$$slots:{default:[bt]},$$scope:{ctx:r}}}),i=new _e({props:{$$slots:{default:[gt]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),l=w(),R(t.$$.fragment),n=w(),R(s.$$.fragment),o=w(),R(i.$$.fragment)},m(c,u){T(e,c,u),b(c,l,u),T(t,c,u),b(c,n,u),T(s,c,u),b(c,o,u),T(i,c,u),a=!0},p(c,u){const _={};u&131072&&(_.$$scope={dirty:u,ctx:c}),e.$set(_);const f={};u&131079&&(f.$$scope={dirty:u,ctx:c}),t.$set(f);const d={};u&131097&&(d.$$scope={dirty:u,ctx:c}),s.$set(d);const y={};u&131297&&(y.$$scope={dirty:u,ctx:c}),i.$set(y)},i(c){a||(v(e.$$.fragment,c),v(t.$$.fragment,c),v(s.$$.fragment,c),v(i.$$.fragment,c),a=!0)},o(c){k(e.$$.fragment,c),k(t.$$.fragment,c),k(s.$$.fragment,c),k(i.$$.fragment,c),a=!1},d(c){P(e,c),c&&g(l),P(t,c),c&&g(n),P(s,c),c&&g(o),P(i,c)}}}function vt(r){let e,l,t,n,s,o,i,a;return l=new st({props:{$$slots:{default:[ht]},$$scope:{ctx:r}}}),{c(){e=m("div"),R(l.$$.fragment),t=w(),n=m("div"),s=m("button"),s.textContent="Save",p(s,"class","w-full h-full text-white hover:bg-opacity-50 bg-opacity-30 bg-lime-800 transition-colors"),p(n,"class","absolute left-0 right-0 bottom-0 h-10"),p(e,"class","relative pb-10 min-h-full")},m(c,u){b(c,e,u),T(l,e,null),$(e,t),$(e,n),$(n,s),o=!0,i||(a=L(s,"click",r[8]),i=!0)},p(c,[u]){const _={};u&131327&&(_.$$scope={dirty:u,ctx:c}),l.$set(_)},i(c){o||(v(l.$$.fragment,c),o=!0)},o(c){k(l.$$.fragment,c),o=!1},d(c){c&&g(e),P(l),i=!1,a()}}}function wt(r,e,l){let t,n,s,o,i,a,c,u,_=!1;te.subscribe(C=>{l(0,t=C),l(1,n=t.widget_id),l(2,s=t.timeout),l(3,o=t.osc_client_host),l(4,i=t.osc_client_port),l(5,a=t.osc_path_connected),l(6,c=t.osc_path_percent),l(7,u=t.max_heart_rate)});const f=async()=>{if(!_){_=!0;try{await window.go.main.App.SaveConfig(),await window.go.main.App.UpdateConfig(JSON.stringify({widget_id:n,timeout:s,osc_client_host:o,osc_client_port:i,osc_path_connected:a,osc_path_percent:c,max_heart_rate:u}))}catch(C){console.error(C)}finally{_=!1,re("/")}}};function d(){n=this.value,l(1,n)}function y(){s=V(this.value),l(2,s)}function S(){o=this.value,l(3,o)}function O(){i=V(this.value),l(4,i)}function h(){a=this.value,l(5,a)}function x(){c=this.value,l(6,c)}function N(){u=V(this.value),l(7,u)}return[t,n,s,o,i,a,c,u,f,d,y,S,O,h,x,N]}class kt extends B{constructor(e){super();H(this,e,wt,vt,W,{})}}function yt(r){let e,l,t,n,s,o,i,a,c,u;return{c(){e=m("div"),l=m("h2"),l.textContent="Input Your WidgetId",t=w(),n=m("a"),n.textContent="Stromno Dashboard",s=w(),o=m("input"),i=w(),a=m("button"),a.textContent="Save",p(l,"class","text-lg font-bold"),p(n,"class","text-purple-300 cursor-pointer hover:underline"),p(n,"href","#"),p(o,"class","mt-6 cursor-text"),p(o,"placeholder","Stromno Widget ID"),p(a,"class","mt-5 save_button"),p(e,"class","mt-10")},m(_,f){b(_,e,f),$(e,l),$(e,t),$(e,n),$(e,s),$(e,o),A(o,r[0]),$(e,i),$(e,a),c||(u=[L(n,"click",r[2]),L(o,"input",r[3]),L(a,"click",r[1])],c=!0)},p(_,[f]){f&1&&o.value!==_[0]&&A(o,_[0])},i:D,o:D,d(_){_&&g(e),c=!1,ee(u)}}}function xt(r,e,l){let t="",n=!1;const s=async()=>{if(!n){n=!0;try{const a=await window.go.main.App.UpdateConfig(JSON.stringify({widget_id:t}));pe.set(a),a!==""&&re("/").then()}finally{n=!1}}},o=()=>{window.runtime.BrowserOpenURL("https://app.stromno.com/dashboard")};function i(){t=this.value,l(0,t)}return[t,s,o,i]}class Ct extends B{constructor(e){super();H(this,e,xt,yt,W,{})}}const St={"/about":tt,"/settings":kt,"/widgetId":Ct,"*":Ze};function Ot(r){let e,l,t,n,s;return e=new ze({}),n=new Ae({props:{routes:St}}),{c(){R(e.$$.fragment),l=w(),t=m("div"),R(n.$$.fragment),p(t,"class","pt-9 h-screen")},m(o,i){T(e,o,i),b(o,l,i),b(o,t,i),T(n,t,null),s=!0},p:D,i(o){s||(v(e.$$.fragment,o),v(n.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),k(n.$$.fragment,o),s=!1},d(o){P(e,o),o&&g(l),o&&g(t),P(n)}}}function It(r){let e,l;return e=new De({}),{c(){R(e.$$.fragment)},m(t,n){T(e,t,n),l=!0},p:D,i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Rt(r){let e,l,t,n,s,o,i,a;l=new Je({}),n=new Qe({});const c=[It,Ot],u=[];function _(f,d){return f[0]||f[1].loading||!f[1].checked?0:f[1].found?-1:1}return~(o=_(r))&&(i=u[o]=c[o](r)),{c(){e=m("main"),R(l.$$.fragment),t=w(),R(n.$$.fragment),s=w(),i&&i.c(),p(e,"class","svelte-1urxoo4")},m(f,d){b(f,e,d),T(l,e,null),$(e,t),T(n,e,null),$(e,s),~o&&u[o].m(e,null),a=!0},p(f,[d]){let y=o;o=_(f),o===y?~o&&u[o].p(f,d):(i&&(X(),k(u[y],1,1,()=>{u[y]=null}),Z()),~o?(i=u[o],i?i.p(f,d):(i=u[o]=c[o](f),i.c()),v(i,1),i.m(e,null)):i=null)},i(f){a||(v(l.$$.fragment,f),v(n.$$.fragment,f),v(i),a=!0)},o(f){k(l.$$.fragment,f),k(n.$$.fragment,f),k(i),a=!1},d(f){f&&g(e),P(l),P(n),~o&&u[o].d()}}}function Tt(r,e,l){let t=!0,n;return Oe.subscribe(s=>l(0,t=s)),K.subscribe(s=>l(1,n=s)),[t,n]}class Pt extends B{constructor(e){super();H(this,e,Tt,Rt,W,{})}}new Pt({target:document.body});
